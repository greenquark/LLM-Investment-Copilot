# Data Sources Configuration
# Configure available data sources and their settings
data_sources:
  marketdata_app:
    enabled: false  # Disabled for testing yfinance
    api_token: "YOUR_MARKETDATA_APP_API_TOKEN"  # MarketData.app API token (set in config/secrets.yaml)
    timeout: 30.0  # Request timeout in seconds
    max_retries: 3  # Maximum retry attempts for failed requests
  
  yfinance:
    enabled: true
    # No API token needed - yfinance is free and doesn't require authentication

# Data Engine Configuration
# Specify which data source to use for historical and real-time data
data:
  historical_source: "yfinance"  # Options: "marketdata_app", "yfinance"
  realtime_source: "yfinance"    # Options: "marketdata_app", "yfinance" (for backtest, this is not used)
  cache_enabled: true                  # Enable caching for faster reruns
  cache_dir: "data_cache/bars"        # Cache directory

# LLM Configuration (shared across all strategies and UX Path A)
llm:
  # Primary model to use (can be overridden via OPENAI_MODEL env var or strategy config)
  primary_model: "gpt-5-mini"
  
  # Fallback models (tried in order if primary fails)
  fallback_models:
    - "gpt-4o-mini"      # GPT-4o-mini (fallback)
    - "gpt-5.1"          # GPT-5.1 full model
    - "gpt-4o"           # Full GPT-4o (fallback)
    - "gpt-4-turbo"      # GPT-4 Turbo (fallback)
    - "gpt-3.5-turbo"    # GPT-3.5 Turbo (last resort)
  
  # Default settings
  temperature: 0.7       # Default temperature (can be overridden per strategy)
  max_tokens: 2000       # Default max tokens
  max_completion_tokens: 2000  # Default max completion tokens (for newer models)
  timeout: 180.0         # Default timeout in seconds
  
  # Model-specific capabilities
  model_capabilities:
    "gpt-5-mini":
      supports_temperature: false
      supports_max_tokens: false
      requires_max_completion_tokens: true
      supports_response_format: true
      supports_functions: false
      supports_tools: true
      tool_role: "tool"
    
    "gpt-5.1":
      supports_temperature: false
      supports_max_tokens: false
      requires_max_completion_tokens: true
      supports_response_format: true
      supports_functions: false
      supports_tools: true
      tool_role: "tool"
    
    "gpt-4o-mini":
      supports_temperature: true
      supports_max_tokens: true
      requires_max_completion_tokens: false
      supports_response_format: true
      supports_functions: true
      supports_tools: true
      tool_role: "function"
    
    "gpt-4o":
      supports_temperature: true
      supports_max_tokens: true
      requires_max_completion_tokens: false
      supports_response_format: true
      supports_functions: true
      supports_tools: true
      tool_role: "function"
    
    "gpt-4-turbo":
      supports_temperature: true
      supports_max_tokens: true
      requires_max_completion_tokens: false
      supports_response_format: true
      supports_functions: true
      supports_tools: true
      tool_role: "function"
    
    "gpt-3.5-turbo":
      supports_temperature: true
      supports_max_tokens: true
      requires_max_completion_tokens: false
      supports_response_format: true
      supports_functions: true
      supports_tools: true
      tool_role: "function"

# Backtest Configuration
backtest:
  symbol: "TQQQ"
  start: "2024-07-05T06:30:00"  # Backtest start date/time
  end: "2025-12-15T16:00:00"    # Extended to include 11/26 (Wednesday before Thanksgiving)    
  initial_cash: 100000
  timeframe: 1D  # Timeframe resolution for backtest. Allowed: 15m, 30m, 1H, 2H, 4H, 1D (overrides strategy config if set)
